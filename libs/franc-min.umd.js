!function(a,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((a="undefined"!=typeof globalThis?globalThis:a||self).franc={})}(this,function(a){"use strict";i(2);const n=i(3);function i(a){if("number"!=typeof a||Number.isNaN(a)||a<1||a===Number.POSITIVE_INFINITY)throw new Error("`"+a+"` is not a valid argument for `n-gram`");return function(n){const i=[];if(null==n)return i;const e="function"==typeof n.slice?n:String(n);let u=e.length-a+1;if(u<1)return i;for(;u--;)i[u]=e.slice(u,u+a);return i}}const e=/\s+/g,u=/[\t\n\v\f\r ]+/g;function o(a){const n=/\r?\n|\r/.exec(a);return n?n[0]:" "}function t(){return" "}const s={}.hasOwnProperty;function r(a){return null==a?"":function(a,n){n?"string"==typeof n&&(n={style:n}):n={};const i=n.preserveLineEndings?o:t;return String(a).replace("html"===n.style?u:e,n.trim?function(a){return n;function n(n,i,e){return 0===i||i+n.length===e.length?"":a(n)}}(i):i)}(String(a).replace(/[\u0021-\u0040]+/g," ")).trim().toLowerCase()}function l(a){const i=function(a){return n(" "+r(a)+" ")}(a),e={};let u=-1;for(;++u<i.length;)s.call(e,i[u])?e[i[u]]++:e[i[u]]=1;return e}function d(a,n){return a[1]-n[1]}const k={cmn:/[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-[\uDD40-\uDD8E\uDDA0]|\uD834[\uDE00-\uDE45]/g},m={Latin:{spa:" धार|थवा|अथव| अथ|िला|्वा|ि म| आद|ने |कएल| कए|्या"}},g={}.hasOwnProperty;let h;const b={};for(h in m)if(g.call(m,h)){const a=m[h];let n;for(n in b[h]={},a)if(g.call(a,n)){const i=a[n].split("|"),e={};let u=i.length;for(;u--;)e[i[u]]=u;b[h][n]=e}}function y(a,n={}){const i=[...n.whitelist||[],...n.only||[]],e=[...n.blacklist||[],...n.ignore||[]],u=null!==n.minLength&&void 0!==n.minLength?n.minLength:10;if(!a||a.length<u)return z();const o=function(a,n){let i,e,u=-1;for(e in n)if(g.call(n,e)){const o=c(a,n[e]);o>u&&(u=o,i=e)}return[i,u]}(a=a.slice(0,2048),k);return o[0]&&o[0]in b?function(a,n){const i=n[0][1],e=300*a.length-i;let u=-1;for(;++u<n.length;)n[u][1]=1-(n[u][1]-i)/e||0;return n}(a,function(a,n,i,e){n=function(a,n,i){if(0===n.length&&0===i.length)return a;const e={};let u;for(u in a)w(u,n,i)&&(e[u]=a[u]);return e}(n,i,e);const u=[];let o;if(n)for(o in n)g.call(n,o)&&u.push([o,p(a,n[o])]);return 0===u.length?z():u.sort(v)}(function(a){const n=l(a),i=[];let e;for(e in n)s.call(n,e)&&i.push([e,n[e]]);return i.sort(d),i}(a),b[o[0]],i,e)):o[0]&&0!==o[1]&&w(o[0],i,e)?j(o[0]):z()}function c(a,n){const i=a.match(n);return(i?i.length:0)/a.length||0}function p(a,n){let i=0,e=-1;for(;++e<a.length;){const u=a[e];let o=300;u[0]in n&&(o=u[1]-n[u[0]]-1,o<0&&(o=-o)),i+=o}return i}function w(a,n,i){return 0===n.length&&0===i.length||(0===n.length||n.includes(a))&&!i.includes(a)}function z(){return j("und")}function j(a){return[[a,1]]}function v(a,n){return a[1]-n[1]}a.franc=function(a,n){return y(a,n)[0][0]},a.francAll=y,Object.defineProperty(a,"__esModule",{value:!0})});
